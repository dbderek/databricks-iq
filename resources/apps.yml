resources:
  apps:
    ui:
      name: "databricks-lakespend"
      source_code_path: ../src/ui
      description: "A Streamlit app for monitoring jobs and other databricks usage"

      # The resources which this app should have access to
      resources:
        - name: "sql-warehouse"
          sql_warehouse: # resource key
            id: ${var.dbsql_serverless_warehouse_id}
            permission: "CAN_MANAGE"

    mcp:
      name: "mcp-databricks-lakespend"
      source_code_path: ../src/mcp/databricks_lakespend_mcp
      description: "An MCP server app for the databricks-lakespend app"

      # The resources which this app should have access to
      resources:
        - name: "sql-warehouse"
          sql_warehouse: # resource key
            id: ${var.dbsql_serverless_warehouse_id}
            permission: "CAN_MANAGE"
            
      # permissions:
      #   - service_principal_name: ${var.service_principal_name}
      #     level: "CAN_USE"
